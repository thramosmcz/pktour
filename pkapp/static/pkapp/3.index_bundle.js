(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{393:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(398),a=n.n(r);function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i="TORNEIO_SET",c=function e(t,n){switch(n.type){case"TORNEIO_ADD":return[].concat(o(t),[{id:a()(),torneio:n.torneio.torneio,qtd_rebuy:n.torneio.qtd_rebuy,qtd_buyin:n.torneio.qtd_buyin,vlr_rebuy:n.torneio.vlr_rebuy,vlr_jackpot:n.torneio.vlr_jackpot}]);case"TORNEIO_REMOVE":return t.filter((function(e){return e.id!==n.id}));case"TORNEIO_SAVEID":var r=t.filter((function(e){return e.id===n.uuid}));return e(t,{type:"TORNEIO_REMOVE",id:r.id}),r.id=n.id,e(t,{type:"TORNEIO_ADD",torneio:r});case i:return n.torneios;default:return t}}},415:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(95),i=n.n(o),c=n(154),l=n.n(c),u=n(419),s=n(418),d=n(409),p=n(393);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var y="http://localhost:8000/pkapp/api",E=Object(r.createContext)(),h=function(e){var t=f(Object(r.useReducer)(p.b,{}),2),n=t[0],o=t[1];return Object(r.useEffect)((function(){fetch("".concat(y,"/torneios/"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e})).then((function(e){o({type:p.a,torneios:e})})).catch((function(e){return console.log("TorneioContext.mount: ERROR fetch torneios\n",e)}))}),[]),Object(r.useEffect)((function(){!function(e,t){void 0!==e&&void 0!==e.torneio&&(console.log("TorneioContext.updateAPI: torneios",e),e.filter((function(e){return!parseInt(e.id)})).map((function(e){var n=e.id,r=m(e,["id"]),a=JSON.stringify(r);console.log("TorneioContext.updateAPI: json",a),fetch("".concat(y,"/torneios/"),{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then((function(e){return e.json()})).then((function(e){console.log("TorneioContext.updateAPI: json POST",e),t({type:TORNEIO_SAVEID,uuid:n,newId:id})})).catch((function(e){return console.log("TorneioContext.updateAPI: ERROR fetch post torneios\n",e)}))})))}(n,o)}),[n]),a.a.createElement(E.Provider,{value:{torneios:n,dispatch_torneio:o}},e.children)},b=n(416),v=function(e){var t=e.torneio,n=e.onClick;return a.a.createElement(b.a.Item,{onClick:function(){return n(t)}},t.torneio)},A=n(413),O=n(417),g=n(90),j=n(89),C=function(e){var t=Object(r.useContext)(j.a),n=t.etapaAdminCtx,o=t.dispatch_admin,i=Object(r.useContext)(E).torneios,c=e.onClick,l=function(){o({type:g.b})};return a.a.createElement(u.a,{header:"Torneio",shaded:!0},function(e,t){return void 0!==e&&Array.isArray(e)&&0!==e.length?t.torneio&&t.torneio.id&&0!==t.torneio.id?a.a.createElement(A.a,null,a.a.createElement(O.a,{disabled:!0,value:t.torneio.torneio}),a.a.createElement(A.a.Button,{onClick:l}," Change ")):a.a.createElement(b.a,{bordered:!0,hover:!0},e.map((function(e){return a.a.createElement(v,{torneio:e,key:e.id,onClick:c})}))):a.a.createElement("div",{className:"empty"},"Nenhum torneio cadastrado!")}(i,n.etapaAdmin))},I=n(398),T=n.n(I);function _(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var x=function(e,t){switch(t.type){case"ETAPA_ADD":return[].concat(_(e),[{id:T()(),etapa:t.etapa.etapa,local:t.etapa.local,data:t.etapa.data,status:t.etapa.status}]);case"ETAPA_REMOVE":return e.filter((function(e){return e.id!==t.id}));case"ETAPA_SET":return t.etapas;default:return e}};function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var w=Object(r.createContext)(),S=function(e){var t=Object(r.useContext)(j.a).etapaAdminCtx,n=k(Object(r.useReducer)(x,{}),2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e;t.etapaAdmin.torneio.id&&(e=t.etapaAdmin.torneio.id,fetch("".concat("http://localhost:8000/pkapp/api","/torneios/").concat(e,"/etapas/"),{mode:"cors"}).then((function(e){return e.json()})).then((function(e){return e}))).then((function(e){i({type:"ETAPA_SET",etapas:e})})).catch((function(e){return console.log("EtapaContextProvider: ERROR fetch etapas\n",e)}))}),[t.etapaAdmin.torneio.id]),a.a.createElement(w.Provider,{value:{etapas:o,dispatch_etapa:i}},e.children)},R=function(e){var t=e.etapa,n=e.onClick;return a.a.createElement(b.a.Item,{onClick:function(){return n(t)},style:{fontSize:"0.8em"}},t.etapa)},P=function(e){var t=Object(r.useContext)(j.a),n=t.etapaAdminCtx,o=t.dispatch_admin,i=Object(r.useContext)(w).etapas,c=e.onClick,l=function(){o({type:g.a})};return a.a.createElement(u.a,{header:"Etapa",shaded:!0},function(e,t){if(void 0===e||!Array.isArray(e)||0===e.length)return a.a.createElement("div",{className:"empty"},"Nenhuma etapa cadastrada!");if(t.etapa&&t.etapa.id&&0!==t.etapa.id)return a.a.createElement(A.a,null,a.a.createElement(O.a,{disabled:!0,value:t.etapa.etapa}),a.a.createElement(A.a.Button,{onClick:l}," Change "));var n=function(e){"F"!==e.status&&c(e)};return a.a.createElement(b.a,{bordered:!0,hover:!0,size:"sm"},e.map((function(e){return a.a.createElement(R,{etapa:e,key:e.id,onClick:n})})))}(i,n.etapaAdmin))},N=function(){var e,t,n,o,i,c=Object(r.useContext)(j.a),l=c.etapaAdminCtx,p=c.dispatch_admin,f=function(e){p({type:g.d,torneio:e})},m=function(e){p({type:g.c,etapa:e})},y=function(){p({type:g.a})};return a.a.createElement(h,null,a.a.createElement(S,null,l.etapaAdmin.torneio.id&&l.etapaAdmin.etapa.id?a.a.createElement(a.a.Fragment,null,(e=l.etapaAdmin,t=e.torneio,n=e.etapa,o={fontWeight:"bold",fontSize:"0.8em"},i={fontWeight:"bold",fontSize:"0.8em",textAlign:"right"},a.a.createElement(u.a,{shaded:!0,style:{marginTop:"12px"}},a.a.createElement(s.a,{justify:"center",style:{alignItems:"center"}},a.a.createElement(s.a.Item,{colspan:5},a.a.createElement("div",{style:{fontWeight:"bold",fontSize:"1.6em"}},t.torneio),a.a.createElement("div",{style:{fontWeight:"bold"}},"     ",n.etapa)),a.a.createElement(s.a.Item,{colspan:4},a.a.createElement("div",{style:o},n.data),a.a.createElement("div",{style:o},n.local)),a.a.createElement(s.a.Item,{colspan:3,style:{alignItems:"center"}},a.a.createElement("div",{style:o},e.inscritos.length," buy-ins"),a.a.createElement("div",{style:o},e.rebuys.length," rebuys")),a.a.createElement(s.a.Item,{colspan:2,style:{alignItems:"right"}},a.a.createElement("div",{style:i},"Arrecadado: ",e.vlr_arrecadado),a.a.createElement("div",{style:i},"Prize pool: ",e.vlr_prizepool),a.a.createElement("div",{style:i},"Jackpot: ",e.vlr_jackpot)),a.a.createElement(s.a.Item,{colspan:4,style:{alignItems:"right"}},a.a.createElement(d.a,{color:"green",onClick:y,style:{marginLeft:"12px"}},"Mudar Edição")))))):a.a.createElement(a.a.Fragment,null,a.a.createElement(C,{onClick:f}),l.etapaAdmin.torneio.id?a.a.createElement(P,{onClick:m}):null)))};t.default=function(){return a.a.createElement(i.a,{style:{textAlign:"center"}},a.a.createElement(l.a,{style:{width:"98%",margin:"0 auto"}},a.a.createElement(N,null)))}}}]);